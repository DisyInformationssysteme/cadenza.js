<!DOCTYPE html><html class="default" lang="en" data-base="."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Cadenza JS - v10.5.1-dev</title><meta name="description" content="Documentation for Cadenza JS"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"><a href="https://github.com/DisyInformationssysteme/cadenza.js">Cadenza JS on GitHub</a></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">Cadenza JS - v10.5.1-dev</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>Cadenza JS - v10.5.1-dev</h1></div><div class="tsd-panel tsd-typography"><!-- prettier-ignore-start -->
<p>Cadenza JS is a JavaScript library to use the <a href="https://www.disy.net/en/products/disy-cadenza/">disy Cadenza</a> APIs conveniently without having to deal with technical details like parameter encoding or the <code>postMessage()</code> Web API.</p>
<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#usage-examples">Usage Examples</a></li>
<li><a href="#the-development-sandbox">The development sandbox</a></li>
</ul>
<a id="installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Cadenza JS is included in the Cadenza distribution in the corresponding version.</p>
<p>Alternatively you can install the most recent version for a particular Cadenza Release using npm:</p>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@disy/cadenza.js@~10.2.0</span><span class="hl-1"> </span><span class="hl-3"># For latest version for Cadenza 10.2 </span>
</code><button type="button">Copy</button></pre>

<p>The Cadenza main version is reflected in the corresponding major and minor version of Cadenza JS (e.g. 10.2.0 for Cadenza 10.2), while the last version segment is increased for both, bugfixes and functional changes.</p>
<a id="cadenza-101-and-earlier" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Cadenza 10.1 and earlier<a href="#cadenza-101-and-earlier" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>For Cadenza 10.1 and earlier versions Cadenza JS used did use genuine semantic versioning. Please consult the Cadenza Documentation for the corresponding major and minor version of cadenza.js.</p>
<a id="usage-examples" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Usage Examples<a href="#usage-examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This section features usage examples for Cadenza JS. For detailed usage information, see the &quot;API:&quot; links.</p>
<a id="general-usage" class="tsd-anchor"></a><h3 class="tsd-anchor-link">General Usage<a href="#general-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><small>API: <a href="./functions/cadenza.html">cadenza()</a></small></p>
<p>There are two ways to use Cadenza JS: As a module and globally.</p>
<a id="as-a-module" class="tsd-anchor"></a><h4 class="tsd-anchor-link">As a module<a href="#as-a-module" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Create an instance of the Cadenza client by calling <code>cadenza()</code> with the base URL of your Cadenza instance. Pass an iframe in the options if you want to show Cadenza in an iframe.</p>
<pre><code class="html"><span class="hl-4">&lt;</span><span class="hl-5">iframe</span><span class="hl-1"> </span><span class="hl-6">id</span><span class="hl-1">=</span><span class="hl-7">&quot;cadenza-iframe&quot;</span><span class="hl-4">&gt;&lt;/</span><span class="hl-5">iframe</span><span class="hl-4">&gt;</span>
</code><button type="button">Copy</button></pre>

<pre><code class="javascript"><span class="hl-8">import</span><span class="hl-1"> { </span><span class="hl-9">cadenza</span><span class="hl-1"> } </span><span class="hl-8">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@disy/cadenza.js&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">cadenzaClient</span><span class="hl-1"> = </span><span class="hl-0">cadenza</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-9">baseUrl:</span><span class="hl-1"> </span><span class="hl-2">&#39;&lt;baseUrl&gt;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">iframe:</span><span class="hl-1"> </span><span class="hl-2">&#39;cadenza-iframe&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><em>Tip:</em> If you develop your application in TypeScript - Cadenza JS is typed using JSDoc and also comes with a <code>cadenza.d.ts</code> type definition file.</p>
<a id="globally" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Globally<a href="#globally" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="html"><span class="hl-4">&lt;</span><span class="hl-5">script</span><span class="hl-12"> </span><span class="hl-6">type</span><span class="hl-12">=</span><span class="hl-7">&quot;module&quot;</span><span class="hl-12"> </span><span class="hl-6">src</span><span class="hl-12">=</span><span class="hl-7">&quot;./cadenza.js&quot;</span><span class="hl-4">&gt;</span>
</code><button type="button">Copy</button></pre>

<pre><code class="javascript"><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">cadenzaClient</span><span class="hl-1"> = </span><span class="hl-9">window</span><span class="hl-1">.</span><span class="hl-0">cadenza</span><span class="hl-1">(...);</span>
</code><button type="button">Copy</button></pre>

<p>The <code>type=&quot;module&quot;</code> has the effect that script execution is <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script#defer">deferred</a>. You might need to wait for the <code>DOMContentLoaded</code> event in order to use Cadenza JS.</p>
<pre><code class="javascript"><span class="hl-9">window</span><span class="hl-1">.</span><span class="hl-0">addEventListener</span><span class="hl-1">(</span><span class="hl-2">&#39;DOMContentLoaded&#39;</span><span class="hl-1">, () </span><span class="hl-10">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">cadenzaClient</span><span class="hl-1"> = </span><span class="hl-9">window</span><span class="hl-1">.</span><span class="hl-0">cadenza</span><span class="hl-1">(...);</span><br/><span class="hl-1">  ...</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>If for some reason you don't like the global <code>cadenza</code> field, you can remove it like so:</p>
<pre><code class="javascript"><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">cadenza</span><span class="hl-1"> = </span><span class="hl-9">window</span><span class="hl-1">.</span><span class="hl-9">cadenza</span><span class="hl-1">.</span><span class="hl-0">noConflict</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="communication-with-parent-cadenza" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Communication with parent Cadenza<a href="#communication-with-parent-cadenza" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If your application is opened from inside Cadenza (e.g. in a popup), you can send commands to parent Cadenza window.
To do that, create CadenzaClient with no arguments:</p>
<pre><code class="javascript"><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">parentClient</span><span class="hl-1"> = </span><span class="hl-9">window</span><span class="hl-1">.</span><span class="hl-0">cadenza</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<p><em>Warning:</em> Not every operation can be done when dealing with parent Cadenza. For example <code>reload</code> and <code>expandNavigator</code>
work, but <code>show</code>, <code>showMap</code> etc. require an iframe. Using these functions in this mode will result in errors.</p>
<a id="show-an-embedding-target-in-an-iframe" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Show an Embedding Target in an Iframe<a href="#show-an-embedding-target-in-an-iframe" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><small>API: <a href="./classes/CadenzaClient.html#show">CadenzaClient#show</a></small></p>
<p>Show an embedding target in an iframe and ...</p>
<ul>
<li>Hide Cadenza's main header and footer and the workbook toolbar.</li>
<li>Enable the simplified operation mode.</li>
<li>Disable the designer.</li>
<li>Set the filter variable &quot;var1&quot; to &quot;foo&quot;.</li>
</ul>
<pre><code class="javascript"><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">show</span><span class="hl-1">(</span><span class="hl-2">&#39;&lt;embeddingTargetId&gt;&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-9">hideMainHeaderAndFooter:</span><span class="hl-1"> </span><span class="hl-10">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">hideWorkbookToolBar:</span><span class="hl-1"> </span><span class="hl-10">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">operationMode:</span><span class="hl-1"> </span><span class="hl-2">&#39;simplified&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">disabledUiFeatures:</span><span class="hl-1"> [</span><span class="hl-2">&#39;workbook-design&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-9">filter:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-9">var1:</span><span class="hl-1"> </span><span class="hl-2">&#39;foo&#39;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>If a spatial filter is defined on the embedded target, it can be set with a dedicated variable name '$spatial':</p>
<pre><code class="javascript"><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">show</span><span class="hl-1">(</span><span class="hl-2">&#39;&lt;embeddingTargetId&gt;&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-3">// ...</span><br/><span class="hl-1">  </span><span class="hl-9">filter:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;$spatial&#39;</span><span class="hl-9">:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">&#39;spatialRelation&#39;</span><span class="hl-9">:</span><span class="hl-1"> </span><span class="hl-2">&#39;overlaps&#39;</span><span class="hl-1">, </span><span class="hl-3">// Also: &#39;notOverlaps&#39;, &#39;contains&#39;</span><br/><span class="hl-1">      </span><span class="hl-2">&#39;geometry&#39;</span><span class="hl-9">:</span><span class="hl-1"> { </span><span class="hl-3">// GeoJSON geometry; Restricted to type &#39;Polygon&#39;</span><br/><span class="hl-1">        </span><span class="hl-2">&#39;coordinates&#39;</span><span class="hl-9">:</span><span class="hl-1"> [</span><br/><span class="hl-1">          [</span><br/><span class="hl-1">            [ </span><span class="hl-13">9.59</span><span class="hl-1">, </span><span class="hl-13">52.70</span><span class="hl-1"> ],</span><br/><span class="hl-1">            [ </span><span class="hl-13">8.89</span><span class="hl-1">, </span><span class="hl-13">51.72</span><span class="hl-1"> ],</span><br/><span class="hl-1">            [ </span><span class="hl-13">10.90</span><span class="hl-1">, </span><span class="hl-13">51.72</span><span class="hl-1"> ],</span><br/><span class="hl-1">            [ </span><span class="hl-13">9.59</span><span class="hl-1">, </span><span class="hl-13">52.70</span><span class="hl-1"> ]</span><br/><span class="hl-1">          ]</span><br/><span class="hl-1">        ],</span><br/><span class="hl-1">        </span><span class="hl-2">&#39;type&#39;</span><span class="hl-9">:</span><span class="hl-1"> </span><span class="hl-2">&quot;Polygon&quot;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<ul>
<li>If the embedding target cannot be resolved, a 404 page is shown to the user.</li>
<li>Cadenza JS does not handle user authentication: If the user is not already logged in, the normal authentication flow of Cadenza will run. By default, the login page would be shown to the user.</li>
</ul>
<a id="show-the-generated-pdf-of-a-jasperreports-report-view-directly" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Show the Generated PDF of a &quot;JasperReports report&quot; View Directly<a href="#show-the-generated-pdf-of-a-jasperreports-report-view-directly" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Views of type &quot;JasperReports report&quot; can be shown in an iframe like any other view. Additionally, there is an option to show only the generated PDF without any Cadenza footers or headers. This is done by setting the &quot;dataType&quot; option to &quot;pdf&quot;.</p>
<pre><code class="javascript"><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">show</span><span class="hl-1">(</span><span class="hl-2">&#39;&lt;embeddingTargetId&gt;&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-9">dataType:</span><span class="hl-1"> </span><span class="hl-2">&#39;pdf&#39;</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="abort-iframe-loading" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Abort (Iframe) Loading<a href="#abort-iframe-loading" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Cadenza JS uses the <a href="https://developer.mozilla.org/en-US/docs/Web/API/AbortController">AbortController Web API</a> for aborting requests. This is supported by most of the public methods.</p>
<pre><code class="javascript"><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">abortController</span><span class="hl-1"> = </span><span class="hl-10">new</span><span class="hl-1"> </span><span class="hl-0">AbortController</span><span class="hl-1">();</span><br/><span class="hl-8">try</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">show</span><span class="hl-1">(</span><span class="hl-2">&#39;&lt;embeddingTargetId&gt;&#39;</span><span class="hl-1">, { </span><span class="hl-9">signal:</span><span class="hl-1"> </span><span class="hl-9">abortController</span><span class="hl-1">.</span><span class="hl-9">signal</span><span class="hl-1"> });</span><br/><span class="hl-1">} </span><span class="hl-8">catch</span><span class="hl-1"> (</span><span class="hl-9">error</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-8">if</span><span class="hl-1"> (</span><span class="hl-9">error</span><span class="hl-1">.</span><span class="hl-9">name</span><span class="hl-1"> === </span><span class="hl-2">&#39;AbortError&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-9">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Iframe loading was aborted&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-9">cancelButton</span><span class="hl-1">.</span><span class="hl-0">onclick</span><span class="hl-1"> = () </span><span class="hl-10">=&gt;</span><span class="hl-1"> </span><span class="hl-9">abortController</span><span class="hl-1">.</span><span class="hl-0">abort</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<p><em>Tip:</em> You can use the same <code>AbortController</code> to abort multiple requests, e.g. when embedding Cadenza in multiple iframes.</p>
<a id="set-filters-in-the-currently-shown-embedding-target" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Set Filters in the Currently Shown Embedding Target<a href="#set-filters-in-the-currently-shown-embedding-target" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><small>API: <a href="./classes/CadenzaClient.html#setFilter">CadenzaClient#setFilter</a></small></p>
<p>Set filter variables using a mapping of variable names to values.</p>
<pre><code class="javascript"><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">setFilter</span><span class="hl-1">({ </span><span class="hl-2">&#39;&lt;variableName&gt;&#39;</span><span class="hl-9">:</span><span class="hl-1"> </span><span class="hl-2">&#39;value&#39;</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<p>Passing <code>null</code> as value removes the assigned filter value.</p>
<p>If a spatial filter is defined on the embedded target, it can be set with a dedicated variable name '$spatial':</p>
<pre><code class="javascript"><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">setFilter</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;$spatial&#39;</span><span class="hl-9">:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;spatialRelation&quot;</span><span class="hl-9">:</span><span class="hl-1"> </span><span class="hl-2">&quot;overlaps&quot;</span><span class="hl-1">, </span><span class="hl-3">// Also: &quot;notOverlaps&quot;, &quot;contains&quot;</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;geometry&quot;</span><span class="hl-9">:</span><span class="hl-1"> { </span><span class="hl-3">// GeoJSON geometry; Restricted to type &quot;Polygon&quot;</span><br/><span class="hl-1">      </span><span class="hl-2">&quot;coordinates&quot;</span><span class="hl-9">:</span><span class="hl-1"> [</span><br/><span class="hl-1">        [</span><br/><span class="hl-1">          [</span><span class="hl-13">9.59</span><span class="hl-1">, </span><span class="hl-13">52.70</span><span class="hl-1">],</span><br/><span class="hl-1">          [</span><span class="hl-13">8.89</span><span class="hl-1">, </span><span class="hl-13">51.72</span><span class="hl-1">],</span><br/><span class="hl-1">          [</span><span class="hl-13">10.90</span><span class="hl-1">, </span><span class="hl-13">51.72</span><span class="hl-1">],</span><br/><span class="hl-1">          [</span><span class="hl-13">9.59</span><span class="hl-1">, </span><span class="hl-13">52.70</span><span class="hl-1">]</span><br/><span class="hl-1">        ]</span><br/><span class="hl-1">      ],</span><br/><span class="hl-1">      </span><span class="hl-2">&quot;type&quot;</span><span class="hl-9">:</span><span class="hl-1"> </span><span class="hl-2">&quot;Polygon&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="show-a-workbook-map-view" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Show a Workbook Map View<a href="#show-a-workbook-map-view" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><small>API: <a href="./classes/CadenzaClient.html#showMap">CadenzaClient#showMap</a></small></p>
<p>Show the embedding target of a workbook map view in an iframe and ...</p>
<ul>
<li>Set the initial map extent.</li>
<li>Show the given GeoJSON geometry on the map.</li>
</ul>
<p>The coordinates of extent and geometry are in the map's SRS (<code>useMapSrs: true</code>).</p>
<pre><code class="javascript"><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">showMap</span><span class="hl-1">(</span><span class="hl-2">&#39;&lt;embeddingTargetId&gt;&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-9">useMapSrs:</span><span class="hl-1"> </span><span class="hl-10">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">extentStrategy:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-9">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;static&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">extent:</span><span class="hl-1"> [ </span><br/><span class="hl-1">      -</span><span class="hl-13">572_513.341856</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-13">5_211_017.966314</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-13">916_327.095083</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-13">6_636_950.728974</span><span class="hl-1">,</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-9">geometry:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-9">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;Point&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">coordinates:</span><span class="hl-1"> [</span><span class="hl-13">328_627.563458</span><span class="hl-1">, </span><span class="hl-13">5_921_296.662223</span><span class="hl-1">],</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="initialize-the-map-extent-by-setting-the-location-finder" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Initialize the Map Extent by Setting the Location Finder<a href="#initialize-the-map-extent-by-setting-the-location-finder" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="javascript"><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">showMap</span><span class="hl-1">(</span><span class="hl-2">&#39;&lt;embeddingTargetId&gt;&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-9">extentStrategy:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-9">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;locationFinder&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">query:</span><span class="hl-1"> </span><span class="hl-2">&#39;Karlsruhe&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="set-the-visibility-of-a-layer-in-the-currently-shown-workbook-map-view" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Set the Visibility of a Layer in the Currently Shown Workbook Map View<a href="#set-the-visibility-of-a-layer-in-the-currently-shown-workbook-map-view" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><small>API: <a href="./classes/CadenzaClient.html#setLayerVisibility">CadenzaClient#setLayerVisibility</a></small></p>
<p>To set the visibility of a layer in the currently shown map, pass the layer path or print name and the desired visibility.</p>
<pre><code class="javascript"><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">setLayerVisibility</span><span class="hl-1">(</span><span class="hl-2">&#39;&lt;layerPrintName&gt;&#39;</span><span class="hl-1">, </span><span class="hl-10">false</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="get-the-image-of-the-currently-shown-workbook-map-view" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Get the Image of the Currently Shown Workbook Map View<a href="#get-the-image-of-the-currently-shown-workbook-map-view" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><small>API: <a href="./classes/CadenzaClient.html#getData">CadenzaClient#getData</a></small></p>
<p>The method may support multiple data types in the future. Currently, only <code>&quot;png&quot;</code> is supported to get the image of a workbook map view.
You may pass the desired <code>width</code> and <code>height</code> in px and whether the resulting image should include the scale.</p>
<pre><code class="javascript"><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">canvas</span><span class="hl-1"> = </span><span class="hl-9">document</span><span class="hl-1">.</span><span class="hl-0">querySelector</span><span class="hl-1">(</span><span class="hl-2">&#39;canvas&#39;</span><span class="hl-1">);</span><br/><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">data</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">getData</span><span class="hl-1">(</span><span class="hl-2">&#39;png&#39;</span><span class="hl-1">, { </span><span class="hl-9">width:</span><span class="hl-1"> </span><span class="hl-13">1200</span><span class="hl-1">, </span><span class="hl-9">height:</span><span class="hl-1"> </span><span class="hl-13">800</span><span class="hl-1">, </span><span class="hl-9">withScale:</span><span class="hl-1"> </span><span class="hl-10">true</span><span class="hl-1"> });</span><br/><span class="hl-9">canvas</span><span class="hl-1">.</span><span class="hl-0">drawImage</span><span class="hl-1">(</span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-0">createImageBitmap</span><span class="hl-1">(</span><span class="hl-9">data</span><span class="hl-1">), </span><span class="hl-13">0</span><span class="hl-1">, </span><span class="hl-13">0</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="edit-an-existing-geometry" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Edit an Existing Geometry<a href="#edit-an-existing-geometry" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><small>API: <a href="./classes/CadenzaClient.html#editGeometry">CadenzaClient#editGeometry</a>, <a href="./classes/CadenzaClient.html#on">CadenzaClient#on</a></small></p>
<p>Edit a GeoJSON geometry with a workbook map view in the background. The geometry coordinates are in the map's SRS (<code>useMapSrs: true</code>).</p>
<pre><code class="javascript"><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">geometry</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-9">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;Point&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">coordinates:</span><span class="hl-1"> [</span><span class="hl-13">328_627.563458</span><span class="hl-1">, </span><span class="hl-13">5_921_296.662223</span><span class="hl-1">],</span><br/><span class="hl-1">};</span><br/><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">editGeometry</span><span class="hl-1">(</span><span class="hl-2">&#39;&lt;embeddingTargetId&gt;&#39;</span><span class="hl-1">, </span><span class="hl-9">geometry</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-9">useMapSrs:</span><span class="hl-1"> </span><span class="hl-10">true</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;editGeometry:update&#39;</span><span class="hl-1">, (</span><span class="hl-9">event</span><span class="hl-1">) </span><span class="hl-10">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-9">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Geometry was updated&#39;</span><span class="hl-1">, </span><span class="hl-9">event</span><span class="hl-1">.</span><span class="hl-9">detail</span><span class="hl-1">.</span><span class="hl-9">geometry</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;editGeometry:ok&#39;</span><span class="hl-1">, (</span><span class="hl-9">event</span><span class="hl-1">) </span><span class="hl-10">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-9">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Geometry editing was completed&#39;</span><span class="hl-1">, </span><span class="hl-9">event</span><span class="hl-1">.</span><span class="hl-9">detail</span><span class="hl-1">.</span><span class="hl-9">geometry</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;editGeometry:cancel&#39;</span><span class="hl-1">, (</span><span class="hl-9">event</span><span class="hl-1">) </span><span class="hl-10">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-9">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Geometry editing was cancelled&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="edit-multiple-geometries" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Edit multiple Geometries<a href="#edit-multiple-geometries" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><small>API: <a href="./classes/CadenzaClient.html#batchEditGeometry">CadenzaClient#batchEditGeometry</a>, <a href="./classes/CadenzaClient.html#on">CadenzaClient#on</a></small></p>
<p>Edit a collection of geometries with a workbook map view in the background. The geometry coordinates are in the map's SRS (<code>useMapSrs: true</code>).
The editor will create an additional layer where editable geometries are stored and selectable for editing. Additional geometries can also be created from within the editor once it has been initialized.
When finished, all geometries are collected and returned in a single collection.</p>
<p><em>Note:</em> The last geometry in the provided collection is initially selected for editing. At least one geometry must be provided.</p>
<pre><code class="javascript"><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">feature1</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-9">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;Feature&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">geometry:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-9">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;Point&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-9">coordinates:</span><span class="hl-1"> [</span><span class="hl-13">328_627.563458</span><span class="hl-1">, </span><span class="hl-13">5_921_296.662223</span><span class="hl-1">],</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  };</span><br/><br/><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">feature2</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-9">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;Feature&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">geometry:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-9">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;Point&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-9">coordinates:</span><span class="hl-1"> [</span><span class="hl-13">916_327.095083</span><span class="hl-1">, </span><span class="hl-13">6_636_950.728974</span><span class="hl-1">],</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  };</span><br/><br/><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">featureCollection</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-9">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;FeatureCollection&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">features:</span><span class="hl-1"> [</span><span class="hl-9">feature1</span><span class="hl-1"> , </span><span class="hl-9">feature2</span><span class="hl-1">]</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">batchEditGeometry</span><span class="hl-1">(</span><span class="hl-2">&#39;&lt;embeddingTargetId&gt;&#39;</span><span class="hl-1">, </span><span class="hl-9">featureCollection</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-9">useMapSrs:</span><span class="hl-1"> </span><span class="hl-10">true</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;editGeometry:update&#39;</span><span class="hl-1">, (</span><span class="hl-9">event</span><span class="hl-1">) </span><span class="hl-10">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-9">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Geometry was updated&#39;</span><span class="hl-1">, </span><span class="hl-9">event</span><span class="hl-1">.</span><span class="hl-9">detail</span><span class="hl-1">.</span><span class="hl-9">geometry</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;editGeometry:ok&#39;</span><span class="hl-1">, (</span><span class="hl-9">event</span><span class="hl-1">) </span><span class="hl-10">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-9">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Geometry editing was completed&#39;</span><span class="hl-1">, </span><span class="hl-9">event</span><span class="hl-1">.</span><span class="hl-9">detail</span><span class="hl-1">.</span><span class="hl-9">features</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">(</span><span class="hl-9">feature</span><span class="hl-1"> </span><span class="hl-10">=&gt;</span><span class="hl-1"> ...));</span><br/><span class="hl-1">});</span><br/><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;editGeometry:cancel&#39;</span><span class="hl-1">, (</span><span class="hl-9">event</span><span class="hl-1">) </span><span class="hl-10">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-9">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Geometry editing was cancelled&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="unsubscribe-from-an-event" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Unsubscribe From an Event<a href="#unsubscribe-from-an-event" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>on()</code> method returns an unsubscribe function.</p>
<pre><code class="javascript"><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">unsubscribe</span><span class="hl-1"> = </span><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;editGeometry:ok&#39;</span><span class="hl-1">, (</span><span class="hl-9">event</span><span class="hl-1">) </span><span class="hl-10">=&gt;</span><span class="hl-1"> ...);</span><br/><span class="hl-1">...</span><br/><span class="hl-0">unsubscribe</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="create-a-new-geometry" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Create a New Geometry<a href="#create-a-new-geometry" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><small>API: <a href="./classes/CadenzaClient.html#createGeometry">CadenzaClient#createGeometry</a></small></p>
<p>Create a GeoJSON point geometry with a workbook map view in the background. The geometry coordinates are in the map's SRS (<code>useMapSrs: true</code>).</p>
<pre><code class="javascript"><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">createGeometry</span><span class="hl-1">(</span><span class="hl-2">&#39;&lt;embeddingTargetId&gt;&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;Point&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-9">useMapSrs:</span><span class="hl-1"> </span><span class="hl-10">true</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;editGeometry:ok&#39;</span><span class="hl-1">, (</span><span class="hl-9">event</span><span class="hl-1">) </span><span class="hl-10">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-9">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Geometry creation was completed&#39;</span><span class="hl-1">, </span><span class="hl-9">event</span><span class="hl-1">.</span><span class="hl-9">detail</span><span class="hl-1">.</span><span class="hl-9">geometry</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><em>Note:</em> Under the hood, creating a geometry is similar to editing a geometry.
That's why the events use the <code>editGeometry</code> prefix.</p>
<a id="create-multiple-geometries" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Create multiple Geometries<a href="#create-multiple-geometries" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><small>API: <a href="./classes/CadenzaClient.html#batchCreateGeometry">CadenzaClient#batchCreateGeometry</a>, <a href="./classes/CadenzaClient.html#on">CadenzaClient#on</a></small></p>
<p>Create multiple geometries with a workbook map view in the background. The geometry coordinates are in the map's SRS (<code>useMapSrs: true</code>).
The editor will create an additional layer where created geometries are stored and selectable for editing.
When finished, all geometries are collected and returned in a single collection.</p>
<pre><code class="javascript"><br/><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">batchCreateGeometry</span><span class="hl-1">(</span><span class="hl-2">&#39;&lt;embeddingTargetId&gt;&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;Point&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-9">useMapSrs:</span><span class="hl-1"> </span><span class="hl-10">true</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;editGeometry:update&#39;</span><span class="hl-1">, (</span><span class="hl-9">event</span><span class="hl-1">) </span><span class="hl-10">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-9">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Geometry was updated&#39;</span><span class="hl-1">, </span><span class="hl-9">event</span><span class="hl-1">.</span><span class="hl-9">detail</span><span class="hl-1">.</span><span class="hl-9">geometry</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;editGeometry:ok&#39;</span><span class="hl-1">, (</span><span class="hl-9">event</span><span class="hl-1">) </span><span class="hl-10">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-9">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Geometry editing was completed&#39;</span><span class="hl-1">, </span><span class="hl-9">event</span><span class="hl-1">.</span><span class="hl-9">detail</span><span class="hl-1">.</span><span class="hl-9">features</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">(</span><span class="hl-9">feature</span><span class="hl-1"> </span><span class="hl-10">=&gt;</span><span class="hl-1"> ...));</span><br/><span class="hl-1">});</span><br/><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;editGeometry:cancel&#39;</span><span class="hl-1">, (</span><span class="hl-9">event</span><span class="hl-1">) </span><span class="hl-10">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-9">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Geometry editing was cancelled&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="additional-background-layers" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Additional Background Layers<a href="#additional-background-layers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Create a GeoJSON polygon geometry with a workbook map view and some additional background layers.</p>
<pre><code class="javascript"><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">createGeometry</span><span class="hl-1">(</span><span class="hl-2">&#39;&lt;embeddingTargetId&gt;&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;Polygon&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-9">additionalLayers:</span><span class="hl-1"> [</span><br/><span class="hl-1">    { </span><span class="hl-9">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;geojson&#39;</span><span class="hl-1">, </span><span class="hl-9">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Example&#39;</span><span class="hl-1">, </span><span class="hl-9">content:</span><span class="hl-1"> </span><span class="hl-4">&lt;</span><span class="hl-14">FeatureCollection</span><span class="hl-4">&gt;</span><span class="hl-1"> },</span><br/><span class="hl-1">    ...</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="select-objects-in-a-workbook-map-view" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Select Objects in a Workbook Map View<a href="#select-objects-in-a-workbook-map-view" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><small>API: <a href="./classes/CadenzaClient.html#selectObjects">CadenzaClient#selectObjects</a></small></p>
<p>Ask the user to select objects in a workbook map view. In the example the selection is restricted to specific layers. For layers in groups, pass the layer path.</p>
<pre><code class="javascript"><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">selectObjects</span><span class="hl-1">(</span><span class="hl-2">&#39;&lt;embeddingTargetId&gt;&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-9">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">    [ </span><span class="hl-2">&#39;&lt;layerGroupPrintName&gt;&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;&lt;layerPrintName&gt;&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">    [ </span><span class="hl-2">&#39;&lt;layerPrintName&gt;&#39;</span><span class="hl-1"> ]</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;selectObjects:ok&#39;</span><span class="hl-1">, (</span><span class="hl-9">event</span><span class="hl-1">) </span><span class="hl-10">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-9">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Object selection was completed&#39;</span><span class="hl-1">, </span><span class="hl-9">event</span><span class="hl-1">.</span><span class="hl-9">detail</span><span class="hl-1">.</span><span class="hl-9">selection</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="programmatically-set-the-selection-in-the-currently-shown-workbook-map-view" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><em>Programmatically</em> Set the Selection in the Currently Shown Workbook Map View<a href="#programmatically-set-the-selection-in-the-currently-shown-workbook-map-view" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p><small>API: <a href="./classes/CadenzaClient.html#setSelection">CadenzaClient#setSelection</a></small></p>
<p>Set the selection in the currently shown workbook map view using a list of object IDs to select. An empty list clears the selection.</p>
<pre><code class="javascript"><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">setSelection</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-9">layer</span><span class="hl-1">: </span><span class="hl-2">&#39;&lt;layerPrintName&gt;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">values</span><span class="hl-1">: [ </span><span class="hl-2">&#39;objectId&#39;</span><span class="hl-1">, ... ]</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>You can also add to or remove from the current selection:</p>
<ul>
<li><small>API: <a href="./classes/CadenzaClient.html#addSelection">CadenzaClient#addSelection</a></small></li>
<li><small>API: <a href="./classes/CadenzaClient.html#removeSelection">CadenzaClient#removeSelection</a></small></li>
</ul>
<a id="highlight-an-item-in-the-navigator" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Highlight an Item in the Navigator<a href="#highlight-an-item-in-the-navigator" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><small>API: <a href="./classes/CadenzaClient.html#show">CadenzaClient#show</a></small></p>
<p>Show an embedding target in an iframe and highlight an item in the navigator. Additionally, expand the navigator tree.</p>
<pre><code class="javascript"><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">show</span><span class="hl-1">(</span><span class="hl-2">&#39;&lt;embeddingTargetId&gt;&#39;</span><span class="hl-1">, {</span><span class="hl-9">expandNavigator:</span><span class="hl-1"> </span><span class="hl-10">true</span><span class="hl-1">, </span><span class="hl-9">highlightGlobalId:</span><span class="hl-1"> </span><span class="hl-2">&#39;ROOT.MyFolder&#39;</span><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="highlight-an-item-in-the-navigator-on-the-welcome-page" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Highlight an Item in the Navigator on the Welcome Page<a href="#highlight-an-item-in-the-navigator-on-the-welcome-page" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p><small>API: <a href="./classes/CadenzaClient.html#show">CadenzaClient#show</a></small></p>
<p>Show Cadenza's welcome page in an iframe and highlight an item in the navigator.</p>
<pre><code class="javascript"><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">show</span><span class="hl-1">({</span><span class="hl-9">page:</span><span class="hl-1"> </span><span class="hl-2">&#39;welcome&#39;</span><span class="hl-1">}, {</span><span class="hl-9">highlightGlobalId:</span><span class="hl-1"> </span><span class="hl-2">&#39;ROOT.MyFolder&#39;</span><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="expand-the-navigator" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Expand the Navigator<a href="#expand-the-navigator" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p><small>API: <a href="./classes/CadenzaClient.html#expandNavigator">CadenzaClient#expandNavigator</a></small></p>
<p>Expand the navigator.</p>
<pre><code class="javascript"><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">expandNavigator</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="fetch-data-from-a-workbook-view" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Fetch Data From a Workbook View<a href="#fetch-data-from-a-workbook-view" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><small>API: <a href="./classes/CadenzaClient.html#fetchData">CadenzaClient#fetchData</a></small></p>
<p>Fetch data from a workbook view in CSV format.</p>
<pre><code class="javascript"><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">response</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">fetchData</span><span class="hl-1">(</span><span class="hl-2">&#39;&lt;embeddingTargetId&gt;&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;csv&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">text</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-9">response</span><span class="hl-1">.</span><span class="hl-0">text</span><span class="hl-1">();</span><br/><span class="hl-1">...</span>
</code><button type="button">Copy</button></pre>

<a id="control-the-contents-of-the-fetched-table-data" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Control the Contents of the Fetched Table Data<a href="#control-the-contents-of-the-fetched-table-data" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Fetch data from a workbook view in JSON format and include only the data values and the aggregation totals. (Do not include the column names.)</p>
<pre><code class="javascript"><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">response</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">fetchData</span><span class="hl-1">(</span><span class="hl-2">&#39;&lt;embeddingTargetId&gt;&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;json&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-9">parts:</span><span class="hl-1"> [</span><span class="hl-2">&#39;values&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;totals&#39;</span><span class="hl-1">]</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">tableData</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-9">response</span><span class="hl-1">.</span><span class="hl-0">json</span><span class="hl-1">();</span><br/><span class="hl-1">...</span>
</code><button type="button">Copy</button></pre>

<a id="fetch-the-object-info-from-a-workbook-map-view" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Fetch the Object Info from a Workbook Map View<a href="#fetch-the-object-info-from-a-workbook-map-view" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><small>API: [CadenzaClient#fetchObjectInfo(./classes/CadenzaClient.html#fetchObjectInfo)</small></p>
<p>Fetch the object info from a workbook map view in JSON format. The result contains all information, that is shown in the object info within cadenza.</p>
<pre><code class="javascript"><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">objectInfo</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">fetchObjectInfo</span><span class="hl-1">(</span><span class="hl-2">&#39;embeddingTargetId&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;layerPrintName&#39;</span><span class="hl-1">, [[</span><span class="hl-2">&#39;objectId&#39;</span><span class="hl-1">]], {</span><br/><span class="hl-1">  </span><span class="hl-9">useMapSrs:</span><span class="hl-1"> </span><span class="hl-10">false</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">fullGeometries:</span><span class="hl-1"> </span><span class="hl-10">true</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="fetch-the-area-intersection-from-a-workbook-map-view-layer" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Fetch the area intersection from a Workbook Map View Layer<a href="#fetch-the-area-intersection-from-a-workbook-map-view-layer" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><small>API: [CadenzaClient#fetchObjectInfo(./classes/CadenzaClient.html#fetchAreaIntersections)</small></p>
<p>Fetch the intersection area from a workbook map view layer in JSON format for a given area. The result contains all intersecting objects of the layer, their object ID, if defined the object name and a geometry representing the intersection area, with area size and area perimeter.</p>
<p>If the geometry intersection fails because a geometry is invalid, a problem detail object is returned. In all other error cases, an exception is thrown.</p>
<pre><code class="javascript"><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">geometry</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-9">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;Point&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">coordinates:</span><span class="hl-1"> [</span><span class="hl-13">328_627.563458</span><span class="hl-1">, </span><span class="hl-13">5_921_296.662223</span><span class="hl-1">],</span><br/><span class="hl-1">};</span><br/><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">bufferSize</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-9">value:</span><span class="hl-1"> </span><span class="hl-13">100</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">lengthUnit:</span><span class="hl-1"> </span><span class="hl-2">&#39;m&#39;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">areaIntersectionsResult</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">fetchAreaIntersections</span><span class="hl-1">(</span><span class="hl-2">&#39;embeddingTargetId&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;layerPrintName&#39;</span><span class="hl-1">, </span><span class="hl-9">geometry</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-9">useMapSrs:</span><span class="hl-1"> </span><span class="hl-10">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">bufferSize:</span><span class="hl-1"> </span><span class="hl-9">bufferSize</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">useAutoCorrection:</span><span class="hl-1"> </span><span class="hl-10">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">includeGeometryValidationReport:</span><span class="hl-1"> </span><span class="hl-10">true</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>Response with activated autocorrection and  geometry validation report</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-15">&quot;results&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-15">&quot;features&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">      {</span><br/><span class="hl-1">        </span><span class="hl-15">&quot;objectId&quot;</span><span class="hl-1">: [ </span><span class="hl-13">333</span><span class="hl-1"> ],</span><br/><span class="hl-1">        </span><span class="hl-15">&quot;geometry&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">          </span><span class="hl-15">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Polygon&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-15">&quot;coordinates&quot;</span><span class="hl-1">: [</span><span class="hl-16">&lt;coordinates&gt;</span><span class="hl-1">]</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">        </span><span class="hl-15">&quot;area&quot;</span><span class="hl-1">: </span><span class="hl-13">5209.274047788233</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-15">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Feature&quot;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-15">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;FeatureCollection&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-15">&quot;errors&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-15">&quot;features&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">      {</span><br/><span class="hl-1">        </span><span class="hl-15">&quot;objectId&quot;</span><span class="hl-1">: [ </span><span class="hl-13">333</span><span class="hl-1"> ],</span><br/><span class="hl-1">        </span><span class="hl-15">&quot;geometry&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">          </span><span class="hl-15">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Point&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-15">&quot;coordinates&quot;</span><span class="hl-1">: [ </span><span class="hl-13">457172.35</span><span class="hl-1">, </span><span class="hl-13">5427744.68</span><span class="hl-1">]</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">        </span><span class="hl-15">&quot;properties&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">          </span><span class="hl-15">&quot;category&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Ring Self-intersection&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-15">&quot;message&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Ring Self-intersection at or near point (457172.35, 5427744.68, NaN)&quot;</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">        </span><span class="hl-15">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Feature&quot;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-15">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;FeatureCollection&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="download-data-from-a-workbook-view" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Download Data From a Workbook View<a href="#download-data-from-a-workbook-view" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><small>API: <a href="./classes/CadenzaClient.html#downloadData">CadenzaClient#downloadData</a></small></p>
<p>Download data from a workbook view in Excel format. This triggers the browser's download dialog.</p>
<pre><code class="javascript"><span class="hl-10">const</span><span class="hl-1"> </span><span class="hl-11">button</span><span class="hl-1"> = </span><span class="hl-9">document</span><span class="hl-1">.</span><span class="hl-0">createElement</span><span class="hl-1">(</span><span class="hl-2">&#39;button&#39;</span><span class="hl-1">);</span><br/><span class="hl-9">button</span><span class="hl-1">.</span><span class="hl-9">textContent</span><span class="hl-1"> = </span><span class="hl-2">&#39;Download Excel&#39;</span><span class="hl-1">;</span><br/><span class="hl-9">button</span><span class="hl-1">.</span><span class="hl-0">onclick</span><span class="hl-1"> = () </span><span class="hl-10">=&gt;</span><span class="hl-1"> </span><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">downloadData</span><span class="hl-1">(</span><span class="hl-2">&#39;&lt;embeddingTargetId&gt;&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;excel&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="reload-the-views-of-a-worksheet" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Reload the Views of a Worksheet<a href="#reload-the-views-of-a-worksheet" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><small>API: <a href="./classes/CadenzaClient.html#reload">CadenzaClient#reload</a></small></p>
<p>To reload a worksheet:</p>
<pre><code class="javascript"><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">reload</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<p>To invalidate caches and reload:</p>
<pre><code class="javascript"><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">reload</span><span class="hl-1">({ </span><span class="hl-9">invalidateCaches:</span><span class="hl-1"> </span><span class="hl-10">true</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<a id="close-the-cadenza-dialog-or-window-that-embeds-the-custom-application" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Close the Cadenza Dialog or Window That Embeds the Custom Application<a href="#close-the-cadenza-dialog-or-window-that-embeds-the-custom-application" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><small>API: <a href="./classes/CadenzaClient.html#closeMe">CadenzaClient#closeMe</a></small></p>
<p>Sends a message to parent Cadenza window to close the window containing this application.</p>
<pre><code class="javascript"><span class="hl-9">cadenzaClient</span><span class="hl-1">.</span><span class="hl-0">closeMe</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="listen-for-cadenza-closing-the-custom-application" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Listen for Cadenza Closing the Custom Application<a href="#listen-for-cadenza-closing-the-custom-application" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Cadenza does not send an event when the dialog or window is closed that embeds the custom application. Depending on your use case you might listen to these browser events instead:</p>
<ul>
<li>The <a href="https://developer.mozilla.org/docs/Web/API/Window/unload_event">Window: <code>unload</code> event</a> is dispatched when the window/dialog is closed.</li>
<li>The <a href="https://developer.mozilla.org/docs/Web/API/Document/visibilitychange_event">Document: <code>visibilitychange</code> event</a> is dispatched when the window/dialog is closed <em>or hidden</em> (for example when the user switches to another browser tab).</li>
</ul>
<p><em>Note:</em> If you need to send a request to your server when the window/dialog is closed, you should use the <a href="https://developer.mozilla.org/docs/Web/API/Navigator/sendBeacon">Navigator: <code>sendBeacon()</code> method</a>. It's limited to POST requests, but in contrast to the &quot;normal&quot; XHR or <code>fetch()</code> APIs, it works reliably when the dialog/window is closed.</p>
<a id="the-development-sandbox" class="tsd-anchor"></a><h2 class="tsd-anchor-link">The Development Sandbox<a href="#the-development-sandbox" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The development sandbox is a simple custom application (in fact a single <code>.html</code> file) for playing with Cadenza JS.</p>
<p>To run it ...</p>
<ul>
<li>You need a Cadenza installation running on <a href="http://localhost:8080/cadenza">http://localhost:8080/cadenza</a>. (See <a href="#customize-the-cadenza-url">Customize the Cadenza URL</a> below)</li>
<li>In <code>node_modules/@disy/cadenza.js</code> run <code>npm run sandbox</code> to start the sandbox.</li>
</ul>
<p>The command starts a proxy server that serves the <code>sandbox.html</code> and <code>cadenza.js</code> files and proxies all other requests to the Cadenza server. Since that way the sandbox and Cadenza run on the same origin, embedding and <code>postMessage</code> communication just work.</p>
<p>Alternatively ...</p>
<ul>
<li>Set the system variable <code>&quot;net.disy.cadenza.sandbox&quot;</code> in Cadenza to enable the sandbox.</li>
<li>Now, <code>sandbox.html</code> is served on <a href="http://localhost:8080/cadenza/sandbox">http://localhost:8080/cadenza/sandbox</a> (replace with custom Cadenza url <code>/sandbox</code> as needed).</li>
</ul>
<p><code>cadenza.js</code> is automatically served when Cadenza starts.</p>
<a id="the-sandbox-ui" class="tsd-anchor"></a><h3 class="tsd-anchor-link">The Sandbox UI<a href="#the-sandbox-ui" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>npm run sandbox</code> also opens the sandbox in a new browser window. Select the Cadenza JS method you want to play with in the select box at the top. For each method there are controls to define the parameters. Hit &quot;Go!&quot; to call the method.</p>
<p>The sandbox uses Cadenza JS with the &quot;debug&quot; option enabled, so you can see what is going on internally in the browser's devtools console. In the &quot;Network&quot; tab of the devtools you can see the requests to the Cadenza server.</p>
<a id="customize-the-cadenza-url" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Customize the Cadenza URL<a href="#customize-the-cadenza-url" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>By default, the sandbox expects Cadenza to run on <a href="http://localhost:8080/cadenza">http://localhost:8080/cadenza</a>. There are two ways to customize the Cadenza URL:</p>
<ul>
<li>Pass an argument:<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">sandbox</span><span class="hl-1"> </span><span class="hl-10">--</span><span class="hl-1"> </span><span class="hl-10">--cadenza-url</span><span class="hl-1"> </span><span class="hl-2">http://localhost:8000/my-cadenza</span>
</code><button type="button">Copy</button></pre>

</li>
<li>Set an environment variable:<pre><code class="bash"><span class="hl-10">export</span><span class="hl-1"> </span><span class="hl-9">CADENZA_URL</span><span class="hl-1">=</span><span class="hl-9">http</span><span class="hl-1">://</span><span class="hl-9">localhost</span><span class="hl-1">:</span><span class="hl-9">8000</span><span class="hl-1">/</span><span class="hl-9">my-cadenza</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">sandbox</span>
</code><button type="button">Copy</button></pre>

</li>
</ul>
<a id="json-representation-of-cadenza-object-data" class="tsd-anchor"></a><h2 class="tsd-anchor-link">JSON Representation of Cadenza Object Data<a href="#json-representation-of-cadenza-object-data" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a href="https://www.json.org/">JSON</a> is a simple data-interchange format, which is also used in the Cadenza API. It does not support all the attribute types of Cadenza objects, that's why there are some rules for representing Cadenza object data in JSON.</p>
<table>
<thead>
<tr>
<th>Cadenza Attribute Type</th>
<th>JSON Type</th>
<th>JSON Example Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Text (String)</td>
<td>string</td>
<td><code>&quot;Text&quot;</code></td>
<td></td>
</tr>
<tr>
<td>Number (Integer)</td>
<td>number</td>
<td><code>1</code></td>
<td></td>
</tr>
<tr>
<td>Number (Long)</td>
<td>string</td>
<td><code>&quot;1&quot;</code></td>
<td>The long value range exceeds the range of the JSON number type. So it's represented as a string.</td>
</tr>
<tr>
<td>Floating point number (Double)</td>
<td>number</td>
<td><code>1.23</code></td>
<td></td>
</tr>
<tr>
<td>Floating point number (Big decimal)</td>
<td>string</td>
<td><code>&quot;1.23&quot;</code></td>
<td>The big decimal value range exceeds the range of the JSON number type. So it's represented as a string.</td>
</tr>
<tr>
<td>Date</td>
<td>string</td>
<td><code>&quot;1999-12-31T23:00:00Z&quot;</code></td>
<td>A date is represented as an <a href="https://en.wikipedia.org/wiki/ISO_8601#Coordinated_Universal_Time_(UTC)">ISO string in universal time</a> (UTC).</td>
</tr>
<tr>
<td>Duration</td>
<td>number</td>
<td><code>1</code></td>
<td>A duration is represented by its numeric value.</td>
</tr>
<tr>
<td>Geometry</td>
<td>object</td>
<td><pre lang="json">{<br>  &quot;type&quot;: &quot;Point&quot;<br>  &quot;coordinates&quot;: [125.6, 10.1]<br>}</pre></td>
<td>A geometry is represented as a <a href="https://geojson.org/">GeoJSON</a> object.<br><em>Note:</em> By default, coordinates in GeoJSON use the WGS84 projection.</td>
</tr>
<tr>
<td>IP address</td>
<td>string</td>
<td><code>&quot;127.0.0.1&quot;</code></td>
<td></td>
</tr>
<tr>
<td>URL</td>
<td>string</td>
<td><code>&quot;http://example.com&quot;</code></td>
<td></td>
</tr>
<tr>
<td>LOB</td>
<td>string</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<!-- prettier-ignore-end --></div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#installation"><span>Installation</span></a><ul><li><a href="#cadenza-101-and-earlier"><span>Cadenza 10.1 and earlier</span></a></li></ul><a href="#usage-examples"><span>Usage <wbr/>Examples</span></a><ul><li><a href="#general-usage"><span>General <wbr/>Usage</span></a></li><li><ul><li><a href="#as-a-module"><span>As a module</span></a></li><li><a href="#globally"><span>Globally</span></a></li></ul></li><li><a href="#communication-with-parent-cadenza"><span>Communication with parent <wbr/>Cadenza</span></a></li><li><a href="#show-an-embedding-target-in-an-iframe"><span>Show an <wbr/>Embedding <wbr/>Target in an <wbr/>Iframe</span></a></li><li><ul><li><a href="#show-the-generated-pdf-of-a-jasperreports-report-view-directly"><span>Show the <wbr/>Generated PDF of a &quot;<wbr/>Jasper<wbr/>Reports report&quot; <wbr/>View <wbr/>Directly</span></a></li></ul></li><li><a href="#abort-iframe-loading"><span>Abort (<wbr/>Iframe) <wbr/>Loading</span></a></li><li><a href="#set-filters-in-the-currently-shown-embedding-target"><span>Set <wbr/>Filters in the <wbr/>Currently <wbr/>Shown <wbr/>Embedding <wbr/>Target</span></a></li><li><a href="#show-a-workbook-map-view"><span>Show a <wbr/>Workbook <wbr/>Map <wbr/>View</span></a></li><li><ul><li><a href="#initialize-the-map-extent-by-setting-the-location-finder"><span>Initialize the <wbr/>Map <wbr/>Extent by <wbr/>Setting the <wbr/>Location <wbr/>Finder</span></a></li></ul></li><li><a href="#set-the-visibility-of-a-layer-in-the-currently-shown-workbook-map-view"><span>Set the <wbr/>Visibility of a <wbr/>Layer in the <wbr/>Currently <wbr/>Shown <wbr/>Workbook <wbr/>Map <wbr/>View</span></a></li><li><a href="#get-the-image-of-the-currently-shown-workbook-map-view"><span>Get the <wbr/>Image of the <wbr/>Currently <wbr/>Shown <wbr/>Workbook <wbr/>Map <wbr/>View</span></a></li><li><a href="#edit-an-existing-geometry"><span>Edit an <wbr/>Existing <wbr/>Geometry</span></a></li><li><a href="#edit-multiple-geometries"><span>Edit multiple <wbr/>Geometries</span></a></li><li><a href="#unsubscribe-from-an-event"><span>Unsubscribe <wbr/>From an <wbr/>Event</span></a></li><li><a href="#create-a-new-geometry"><span>Create a <wbr/>New <wbr/>Geometry</span></a></li><li><a href="#create-multiple-geometries"><span>Create multiple <wbr/>Geometries</span></a></li><li><ul><li><a href="#additional-background-layers"><span>Additional <wbr/>Background <wbr/>Layers</span></a></li></ul></li><li><a href="#select-objects-in-a-workbook-map-view"><span>Select <wbr/>Objects in a <wbr/>Workbook <wbr/>Map <wbr/>View</span></a></li><li><ul><li><a href="#programmatically-set-the-selection-in-the-currently-shown-workbook-map-view"><span>Programmatically <wbr/>Set the <wbr/>Selection in the <wbr/>Currently <wbr/>Shown <wbr/>Workbook <wbr/>Map <wbr/>View</span></a></li></ul></li><li><a href="#highlight-an-item-in-the-navigator"><span>Highlight an <wbr/>Item in the <wbr/>Navigator</span></a></li><li><ul><li><a href="#highlight-an-item-in-the-navigator-on-the-welcome-page"><span>Highlight an <wbr/>Item in the <wbr/>Navigator on the <wbr/>Welcome <wbr/>Page</span></a></li><li><a href="#expand-the-navigator"><span>Expand the <wbr/>Navigator</span></a></li></ul></li><li><a href="#fetch-data-from-a-workbook-view"><span>Fetch <wbr/>Data <wbr/>From a <wbr/>Workbook <wbr/>View</span></a></li><li><ul><li><a href="#control-the-contents-of-the-fetched-table-data"><span>Control the <wbr/>Contents of the <wbr/>Fetched <wbr/>Table <wbr/>Data</span></a></li></ul></li><li><a href="#fetch-the-object-info-from-a-workbook-map-view"><span>Fetch the <wbr/>Object <wbr/>Info from a <wbr/>Workbook <wbr/>Map <wbr/>View</span></a></li><li><a href="#fetch-the-area-intersection-from-a-workbook-map-view-layer"><span>Fetch the area intersection from a <wbr/>Workbook <wbr/>Map <wbr/>View <wbr/>Layer</span></a></li><li><a href="#download-data-from-a-workbook-view"><span>Download <wbr/>Data <wbr/>From a <wbr/>Workbook <wbr/>View</span></a></li><li><a href="#reload-the-views-of-a-worksheet"><span>Reload the <wbr/>Views of a <wbr/>Worksheet</span></a></li><li><a href="#close-the-cadenza-dialog-or-window-that-embeds-the-custom-application"><span>Close the <wbr/>Cadenza <wbr/>Dialog or <wbr/>Window <wbr/>That <wbr/>Embeds the <wbr/>Custom <wbr/>Application</span></a></li><li><ul><li><a href="#listen-for-cadenza-closing-the-custom-application"><span>Listen for <wbr/>Cadenza <wbr/>Closing the <wbr/>Custom <wbr/>Application</span></a></li></ul></li></ul><a href="#the-development-sandbox"><span>The <wbr/>Development <wbr/>Sandbox</span></a><ul><li><a href="#the-sandbox-ui"><span>The <wbr/>Sandbox UI</span></a></li><li><a href="#customize-the-cadenza-url"><span>Customize the <wbr/>Cadenza URL</span></a></li></ul><a href="#json-representation-of-cadenza-object-data"><span>JSON <wbr/>Representation of <wbr/>Cadenza <wbr/>Object <wbr/>Data</span></a></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/DisyInformationssysteme/cadenza.js" class="tsd-nav-link">Cadenza JS on GitHub</a></nav><nav class="tsd-navigation"><a href="modules.html">Cadenza JS - v10.5.1-dev</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
